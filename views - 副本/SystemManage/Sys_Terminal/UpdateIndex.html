<form id="dform" class="form-horizontal">
    <div class="ibox">
        <div class="ibox-title">
            <h5>终端设备表 修改</h5>
        </div>
        <div class="ibox-content">
            <div class="row">
                <input id='TERMINALID' name='TERMINALID' placeholder='设备ID ' type='hidden' value='<%=Model.TERMINALID%>'>
               
                 
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="SHOPID"><i class=" text-danger">* </i>部门名称:</label>
                        <div class="col-sm-8">
                            <select id='SHOPID' name='SHOPID' required class='form-control'></select>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="APPSOFTID"><i class=" text-danger">*
                            </i>应用软件:</label>
                        <div class="col-sm-8">
                            <select id='APPSOFTID' name='APPSOFTID' required class='form-control'></select>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="ADVSOFTID"><i class=" text-danger">*
                            </i>轮播图:</label>
                        <div class="col-sm-8">

                            <select id='ADVSOFTID' name='ADVSOFTID' required class='form-control'></select>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="TERMINALMODEID"><i class=" text-danger">*
                            </i>终端型号:</label>
                        <div class="col-sm-8">
                            <select id='TERMINALMODEID' name='TERMINALMODEID' required class='form-control'></select>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="TERMINALCODE"><i class=" text-danger">* </i>设备编号
                            :</label>
                        <div class="col-sm-8">
                            <input id='TERMINALCODE' name='TERMINALCODE'   placeholder='请输入设备编号 '
                                value='<%=Model.TERMINALCODE%>' required class='form-control'>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="TERMINALNAME"><i class=" text-danger">* </i>设备名称
                            :</label>
                        <div class="col-sm-8">
                            <input id='TERMINALNAME' name='TERMINALNAME' placeholder='请输入设备名称 '
                                value='<%=Model.TERMINALNAME%>' required class='form-control'>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="BANKTERCODE"><i class=" text-danger">* </i>银行终端号 :</label>
                        <div class="col-sm-8">
                            <input id='BANKTERCODE' required name='BANKTERCODE' placeholder='请输入银行终端号'
                                value='<%=Model.BANKTERCODE%>' class='form-control'>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="BANKMERCODE"><i class=" text-danger">* </i>银行商户号 :</label>
                        <div class="col-sm-8">
                            <input id='BANKMERCODE' required name='BANKMERCODE' placeholder='请输入银行商户号'
                                value='<%=Model.BANKMERCODE%>' class='form-control'>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="IPAddr">IP地址 :</label>
                        <div class="col-sm-8">
                            <input id='IPAddr' name='IPAddr' placeholder='请输入IP地址' value='<%=Model.IPAddr%>'
                                class='form-control'>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="ADDRESS">安装地址 :</label>
                        <div class="col-sm-8">
                            <input id='ADDRESS' name='ADDRESS' placeholder='请输入安装地址 ' value='<%=Model.ADDRESS%>'
                                class='form-control'>
                        </div>
                    </div>
                </div>


               
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label" for="HARDWARECODE">硬件编号 :</label>
                        <div class="col-sm-8">
                            <input id='HARDWARECODE' name='HARDWARECODE' placeholder='请输入硬件编号 '
                                value='<%=Model.HARDWARECODE%>' class='form-control'>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>
</form>




<script>
    $(function () {

        $('#SHOPID').selectBind('/SystemManage/sys_shop/GetComb');
        $('#SHOPID').val('<%=Model.SHOPID%>');
        $('#APPSOFTID').selectBind('/SystemManage/sys_soft/GetComb', {
            FILEPACKAGETYPE: 0
        });
        $('#ADVSOFTID').selectBind('/SystemManage/sys_soft/GetComb', {
            FILEPACKAGETYPE: 1
        });
        $('#APPSOFTID').val('<%=Model.APPSOFTID%>');
        $('#ADVSOFTID').val('<%=Model.ADVSOFTID%>');
        $('#TERMINALMODEID').selectBind('/SystemManage/sys_terminalmode/GetComb');
        $('#TERMINALMODEID').val('<%=Model.TERMINALMODEID%>');
  

    });

    function initValidator() {
        $('#dform').bootstrapValidator({
            message: 'This value is not valid',
            feedbackIcons: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                //部门名称
                SHOPID: {
                    message: '部门名称 验证失败',
                    validators: {
                        notEmpty: {
                            message: '部门名称 不能为空'
                        },
                        stringLength: {
                            min: 1,
                            max: 60,
                            message: ' 部门名称 长度在1到60之间'
                        }
                    }
                },
                //所属软件
                APPSOFTID: {
                    message: '所属软件 验证失败',
                    validators: {
                        notEmpty: {
                            message: '所属软件 不能为空'
                        },
                        stringLength: {
                            min: 1,
                            max: 60,
                            message: ' 所属软件 长度在1到60之间'
                        }
                    }
                },
                //终端型号
                TERMINALMODEID: {
                    message: '终端型号 验证失败',
                    validators: {
                        notEmpty: {
                            message: '终端型号 不能为空'
                        },
                        stringLength: {
                            min: 1,
                            max: 60,
                            message: ' 终端型号 长度在1到60之间'
                        }
                    }
                },


                //设备编号 
                TERMINALCODE: {
                    message: '设备编号  验证失败',
                    validators: {
                        notEmpty: {
                            message: '设备编号  不能为空'
                        },
                        stringLength: {
                            min: 1,
                            max: 60,
                            message: ' 设备编号  长度在1到60之间'
                        }
                    }
                },
                //设备名称 
                TERMINALNAME: {
                    message: '设备名称  验证失败',
                    validators: {
                        notEmpty: {
                            message: '设备名称  不能为空'
                        },
                        stringLength: {
                            min: 1,
                            max: 60,
                            message: ' 设备名称  长度在1到60之间'
                        }
                    }
                },

            }

        });
    }


    function Submit() {
        initValidator();
        $('#dform').data('bootstrapValidator').validate();
        if (!$('#dform').data('bootstrapValidator').isValid()) {
            return false;
        }
        var action = $("#dform").attr("action");
        var params = new FormData($("#dform")[0]);
        var option = {
            postUrl: action,
            message: '确定要保存数据吗？',
            param: params,
            successCallBack: function (data) { //添加成功
                var index = parent.layer.getFrameIndex(window.name);
                parent.tableRefresh();
                parent.layer.close(index);

            },
            errorCallBack: null
        };
        bstrap.confirm(option); //弹出提示确认框
    }
</script>